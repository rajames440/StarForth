<?xml version="1.0"?>

<!--
  ~                                  ***   StarForth   ***
  ~
  ~  rest.xml- FORTH-79 Standard and ANSI C99 ONLY
  ~  Modified by - rajames
  ~  Last modified - 2025-10-27T12:40:04.552-04
  ~
  ~  Copyright (c) 2025 (rajames) Robert A. James - StarshipOS Forth Project.
  ~
  ~  This work is released into the public domain under the Creative Commons Zero v1.0 Universal license.
  ~  To the extent possible under law, the author(s) have dedicated all copyright and related
  ~  and neighboring rights to this software to the public domain worldwide.
  ~  This software is distributed without any warranty.
  ~
  ~  See <http://creativecommons.org/publicdomain/zero/1.0/> for more information.
  ~
  ~  /home/rajames/CLionProjects/StarForth/tools/Isabelle2025/contrib/jedit-20250215/jedit5.7.0-patched/jEdit/modes/rest.xml
  -->

<!DOCTYPE MODE SYSTEM "xmode.dtd">

<MODE>
	<PROPS>
		<PROPERTY NAME="lineComment" VALUE=".. "/>
		<!-- indent after literal blocks and directives -->
		<PROPERTY NAME="indentNextLines" VALUE=".*::$"/>
	</PROPS>

	<RULES IGNORE_CASE="FALSE" HIGHLIGHT_DIGITS="FALSE">

		<!-- targets -->
		<EOL_SPAN AT_LINE_START="TRUE" TYPE="KEYWORD3">__</EOL_SPAN>
		<EOL_SPAN AT_LINE_START="TRUE" TYPE="KEYWORD3">.. _</EOL_SPAN>

		<!-- section titles -->
		<SEQ_REGEXP HASH_CHAR="===" TYPE="LABEL">={3,}</SEQ_REGEXP>
		<SEQ_REGEXP HASH_CHAR="---" TYPE="LABEL">-{3,}</SEQ_REGEXP>
		<SEQ_REGEXP HASH_CHAR="~~~" TYPE="LABEL">~{3,}</SEQ_REGEXP>
		<SEQ_REGEXP HASH_CHAR="###" TYPE="LABEL">#{3,}</SEQ_REGEXP>
		<SEQ_REGEXP HASH_CHAR='"""' TYPE="LABEL">"{3,}</SEQ_REGEXP>
		<SEQ_REGEXP HASH_CHAR="^^^" TYPE="LABEL">\^{3,}</SEQ_REGEXP>
		<SEQ_REGEXP HASH_CHAR="+++" TYPE="LABEL">\+{3,}</SEQ_REGEXP>
		<SEQ_REGEXP HASH_CHAR="***" TYPE="LABEL">\*{3,}</SEQ_REGEXP>

		<!-- replacement -->
		<SEQ_REGEXP
			HASH_CHAR=".."
			AT_LINE_START="TRUE"
			TYPE="LITERAL3"
		>\.\.\s\|[^|]+\|</SEQ_REGEXP>

		<!-- substitution -->
		<SEQ_REGEXP
			HASH_CHAR="|"
			AT_LINE_START="FALSE"
			TYPE="LITERAL4"
		>\|[^|]+\|</SEQ_REGEXP>

		<!-- directives: .. name:: -->
		<SEQ_REGEXP
			HASH_CHAR=".."
			AT_LINE_START="TRUE"
			TYPE="LITERAL2"
		>\.\.\s[A-z][A-z0-9-_]+::</SEQ_REGEXP>

		<!-- strong emphasis: **...** -->
		<SEQ_REGEXP
			HASH_CHAR="**"
			AT_LINE_START="FALSE"
			TYPE="KEYWORD2"
		>\*\*[^*]+\*\*</SEQ_REGEXP>

		<!-- emphasis: *...* -->
		<SEQ_REGEXP
			HASH_CHAR="*"
			AT_LINE_START="FALSE"
			TYPE="KEYWORD4"
		>\*[^\s*][^*]*\*</SEQ_REGEXP>

		<!-- comments -->
		<EOL_SPAN AT_LINE_START="TRUE" TYPE="COMMENT1">.. </EOL_SPAN>

		<!-- links: `...`_ or `...`__ -->
		<SEQ_REGEXP
			HASH_CHAR="`"
			TYPE="LABEL"
		>`[A-z0-9]+[^`]+`_{1,2}</SEQ_REGEXP>

		<!-- footnote reference: [0]_ -->
		<SEQ_REGEXP
			HASH_CHAR="["
			TYPE="LABEL"
		>\[[0-9]+\]_</SEQ_REGEXP>

		<!-- footnote reference: [#]_ or [#foo]_ -->
		<SEQ_REGEXP
			HASH_CHAR="[#"
			TYPE="LABEL"
		>\[#[A-z0-9_]*\]_</SEQ_REGEXP>

		<!-- footnote reference: [*]_ -->
		<SEQ TYPE="LABEL">[*]_</SEQ>

		<!-- citation reference: [foo]_ -->
		<SEQ_REGEXP
			HASH_CHAR="["
			TYPE="LABEL"
		>\[[A-z][A-z0-9_-]*\]_</SEQ_REGEXP>

		<!-- inline literal: ``...``-->
		<!--<SEQ_REGEXP
			HASH_CHAR="``"
			TYPE="LITERAL1"
		>``[^`]+``</SEQ_REGEXP>-->
		<SPAN TYPE="LITERAL1" ESCAPE="\">
			<BEGIN>``</BEGIN>
			<END>``</END>
		</SPAN>

		<!-- interpreted text: `...` -->
		<!--
		<SEQ_REGEXP
			HASH_CHAR="`"
			TYPE="KEYWORD1"
		>`[^`]+`</SEQ_REGEXP>
		-->
		<SPAN TYPE="KEYWORD1">
			<BEGIN>`</BEGIN>
			<END>`</END>
		</SPAN>

		<SEQ_REGEXP HASH_CHAR="```" TYPE="LABEL">`{3,}</SEQ_REGEXP>

		<!-- :field list: -->
		<SEQ_REGEXP
			HASH_CHAR=":"
			TYPE="KEYWORD1"
		>:[A-z][A-z0-9 	=\s\t_]*:</SEQ_REGEXP>

		<!-- table -->
		<SEQ_REGEXP
			HASH_CHAR="+-"
			TYPE="LABEL"
		>\+-[+-]+</SEQ_REGEXP>
		<SEQ_REGEXP
			HASH_CHAR="+?"
			TYPE="LABEL"
		>\+=[+=]+</SEQ_REGEXP>

	</RULES>

</MODE>
